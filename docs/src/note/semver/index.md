---
title: 语义化版本
---


> 作者: 小王 :v::eyes::v:


# 语义化版本

## 概述

用于软件版本管理的一组规则和约束条件



## 格式

```
主版本号.次版本号.修订号-先行版本号+元数据
```

其中, 先行版本号和元素据是由`.`分隔的一组标识符

例如: `4.2.2`, `4.2.2-stable`, `4.3.0-beta.1+build.2`

## 版本号排序规则

各个版本号之间是存在排序的,排序规则如下: 

- 主版本号的权重>次版本号的权重>修订号权重, 例如`1.0.1` > `1.0.0` 
- 先行版本号通常小于对应的普通版本, 例如, 例如`1.0.0` > `1.0.0-beta`
- 元数据不影响排序, 例如`1.0.0-beta` = `1.0.0-beta:build32`





## 版本递增规则

1. `主版本号major`: 做了不兼容的API修改, 例如某个类或方法的使用方式发生变化
2. `次版本号minor`: 做了向下兼容的功能性新增
3. `修订号patch`: 做了向下兼容的问题修正, 例如修复bug



## 具体细节

- 版本号格式`x.y.z`, x, y, z必须为非负整数
- 标记了版本号的软件发行后, 任何修改都必须以新的版本号再次发行
- 1.0.0的版本号用于界定公共API的形成。这一版本之后所有的版本号更新都基于公共API及其修改内容
- 主版本号为零的软件处于开发初始阶段, 不应该被视为稳定版, 即不应作为公共API
- 次版本号递增时, 修订号必须归零;主版本号递增时, 次版本号和修订号必须归零



### 常见先行版本号

- `dev`
- `alpha`
- `beta`
- `rc`
- `stable`



### 常见元数据

元数据可以是软件开发团队自定义的, 通常情况:

- 构建编号: 提交次数, 例如`1.0.0+build.123`表示该版本是第123次构建
- 提交hash: git中对应提交的hash, 例如`1.0.0+commit.abc123`
- 时间戳: 例如`1.0.0+20231115` 表示版本构建于 2023 年 11 月 15 日
- 构建环境: 例如`1.0.0+server01`表示该版本是在服务器`server01`上构建的