<!DOCTYPE html>
<html lang="zh-CN" dir="ltr">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>HTTPS</title>
    <meta name="description" content="A VitePress Site">
    <meta name="generator" content="VitePress v1.3.4">
    <link rel="preload stylesheet" href="/assets/style.D0N1Rti4.css" as="style">
    
    <script type="module" src="/assets/app.DW2Z05bZ.js"></script>
    <link rel="preload" href="/assets/inter-roman-latin.Di8DUHzh.woff2" as="font" type="font/woff2" crossorigin="">
    <link rel="modulepreload" href="/assets/chunks/framework.DX8ksQZH.js">
    <link rel="modulepreload" href="/assets/chunks/theme.Cb3aU4gq.js">
    <link rel="modulepreload" href="/assets/chunks/katex.CvgdMzdh.js">
    <link rel="modulepreload" href="/assets/chunks/dagre-P3YPLUS5.DqR5UGk1.js">
    <link rel="modulepreload" href="/assets/chunks/c4Diagram-THADGKDP.DpNdqC4r.js">
    <link rel="modulepreload" href="/assets/chunks/flowDiagram-JSIZSE4D.NdWw7i2q.js">
    <link rel="modulepreload" href="/assets/chunks/erDiagram-62CBQV5Y.CPpYobNt.js">
    <link rel="modulepreload" href="/assets/chunks/gitGraphDiagram-UL5UFKDR.Cq3sCZrP.js">
    <link rel="modulepreload" href="/assets/chunks/ganttDiagram-ASEIQ4P5.C0Tq3bwF.js">
    <link rel="modulepreload" href="/assets/chunks/infoDiagram-7APDZ6AT.B31RAjo1.js">
    <link rel="modulepreload" href="/assets/chunks/pieDiagram-OZX6XH5M.DRjEAYV6.js">
    <link rel="modulepreload" href="/assets/chunks/quadrantDiagram-VG34DGKC.D_377MFs.js">
    <link rel="modulepreload" href="/assets/chunks/xychartDiagram-LESROZAQ.D7Aw__4P.js">
    <link rel="modulepreload" href="/assets/chunks/requirementDiagram-FPZB6IJI.DP-HDyIg.js">
    <link rel="modulepreload" href="/assets/chunks/sequenceDiagram-PQT5PN7B.DVtiSwM0.js">
    <link rel="modulepreload" href="/assets/chunks/classDiagram-4BHYIK4I.BLgh-wJK.js">
    <link rel="modulepreload" href="/assets/chunks/classDiagram-v2-FI7KE7WJ.DWLL2Uxn.js">
    <link rel="modulepreload" href="/assets/chunks/stateDiagram-TQSDS2D4.BQ00---h.js">
    <link rel="modulepreload" href="/assets/chunks/stateDiagram-v2-J5TZWJW5.CW_tg1dQ.js">
    <link rel="modulepreload" href="/assets/chunks/journeyDiagram-G5LC7W2K.DYb0QnOx.js">
    <link rel="modulepreload" href="/assets/chunks/timeline-definition-KYQAIZUX.Bt9G90cQ.js">
    <link rel="modulepreload" href="/assets/chunks/mindmap-definition-FCEC46F3.mGyp-17X.js">
    <link rel="modulepreload" href="/assets/chunks/sankeyDiagram-KMMQDL5K.Dun1S5qK.js">
    <link rel="modulepreload" href="/assets/chunks/diagram-QS5GVLUX.Dq-JhFe5.js">
    <link rel="modulepreload" href="/assets/chunks/blockDiagram-EN3ZKWFM.BNtTFUyV.js">
    <link rel="modulepreload" href="/assets/chunks/architectureDiagram-V6B76FHG.C6FmUFtK.js">
    <link rel="modulepreload" href="/assets/chunks/virtual_mermaid-config.DDnGl6nM.js">
    <link rel="modulepreload" href="/assets/note_java_web_basic_https.md.IEw6ifMO.lean.js">
    <link rel="icon" href="/images/logo.ico">
    <script id="check-dark-mode">(()=>{const e=localStorage.getItem("vitepress-theme-appearance")||"auto",a=window.matchMedia("(prefers-color-scheme: dark)").matches;(!e||e==="auto"?a:e==="dark")&&document.documentElement.classList.add("dark")})();</script>
    <script id="check-mac-os">document.documentElement.classList.toggle("mac",/Mac|iPhone|iPod|iPad/i.test(navigator.platform));</script>
  </head>
  <body>
    <div id="app"><div class="Layout" data-v-a9a9e638><!--[--><!--]--><!--[--><span tabindex="-1" data-v-c3508ec8></span><a href="#VPContent" class="VPSkipLink visually-hidden" data-v-c3508ec8> Skip to content </a><!--]--><!----><header class="VPNav" data-v-a9a9e638 data-v-f1e365da><div class="VPNavBar" data-v-f1e365da data-v-822684d1><div class="wrapper" data-v-822684d1><div class="container" data-v-822684d1><div class="title" data-v-822684d1><div class="VPNavBarTitle has-sidebar" data-v-822684d1 data-v-28a961f9><a class="title" href="/" data-v-28a961f9><!--[--><!--]--><!--[--><img class="VPImage logo" src="/images/logo.png" alt data-v-35a7d0b8><!--]--><span data-v-28a961f9>OriginPark</span><!--[--><!--]--></a></div></div><div class="content" data-v-822684d1><div class="content-body" data-v-822684d1><!--[--><!--]--><div class="VPNavBarSearch search" data-v-822684d1><!--[--><!----><div id="local-search"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><span class="vp-icon DocSearch-Search-Icon"></span><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"><kbd class="DocSearch-Button-Key"></kbd><kbd class="DocSearch-Button-Key">K</kbd></span></button></div><!--]--></div><nav aria-labelledby="main-nav-aria-label" class="VPNavBarMenu menu" data-v-822684d1 data-v-e6d46098><span id="main-nav-aria-label" class="visually-hidden" data-v-e6d46098> Main Navigation </span><!--[--><!--[--><div class="VPFlyout VPNavBarMenuGroup" data-v-e6d46098 data-v-e5380155><button type="button" class="button" aria-haspopup="true" aria-expanded="false" data-v-e5380155><span class="text" data-v-e5380155><!----><span data-v-e5380155>个人笔记</span><span class="vpi-chevron-down text-icon" data-v-e5380155></span></span></button><div class="menu" data-v-e5380155><div class="VPMenu" data-v-e5380155 data-v-7dd3104a><div class="items" data-v-7dd3104a><!--[--><!--[--><div class="VPMenuLink" data-v-7dd3104a data-v-8b74d055><a class="VPLink link" href="/note/javaSE.html" data-v-8b74d055><!--[-->javaSE<!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-7dd3104a data-v-8b74d055><a class="VPLink link" href="/note/java_web_basic.html" data-v-8b74d055><!--[-->java web<!--]--></a></div><!--]--><!--]--></div><!--[--><!--]--></div></div></div><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/markdown-examples.html" tabindex="0" data-v-e6d46098 data-v-ed5ac1f6><!--[--><span data-v-ed5ac1f6>Examples</span><!--]--></a><!--]--><!--]--></nav><!----><div class="VPNavBarAppearance appearance" data-v-822684d1 data-v-af096f4a><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" title aria-checked="false" data-v-af096f4a data-v-e40a8bb6 data-v-4a1c76db><span class="check" data-v-4a1c76db><span class="icon" data-v-4a1c76db><!--[--><span class="vpi-sun sun" data-v-e40a8bb6></span><span class="vpi-moon moon" data-v-e40a8bb6></span><!--]--></span></span></button></div><div class="VPSocialLinks VPNavBarSocialLinks social-links" data-v-822684d1 data-v-164c457f data-v-ee7a9424><!--[--><a class="VPSocialLink no-icon" href="https://github.com/originpark" aria-label="github" target="_blank" rel="noopener" data-v-ee7a9424 data-v-717b8b75><span class="vpi-social-github" /></a><a class="VPSocialLink no-icon" href="https://space.bilibili.com/160304257" aria-label="bilibili" target="_blank" rel="noopener" data-v-ee7a9424 data-v-717b8b75><span class="vpi-social-bilibili" /></a><!--]--></div><div class="VPFlyout VPNavBarExtra extra" data-v-822684d1 data-v-925effce data-v-e5380155><button type="button" class="button" aria-haspopup="true" aria-expanded="false" aria-label="extra navigation" data-v-e5380155><span class="vpi-more-horizontal icon" data-v-e5380155></span></button><div class="menu" data-v-e5380155><div class="VPMenu" data-v-e5380155 data-v-7dd3104a><!----><!--[--><!--[--><!----><div class="group" data-v-925effce><div class="item appearance" data-v-925effce><p class="label" data-v-925effce>Appearance</p><div class="appearance-action" data-v-925effce><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" title aria-checked="false" data-v-925effce data-v-e40a8bb6 data-v-4a1c76db><span class="check" data-v-4a1c76db><span class="icon" data-v-4a1c76db><!--[--><span class="vpi-sun sun" data-v-e40a8bb6></span><span class="vpi-moon moon" data-v-e40a8bb6></span><!--]--></span></span></button></div></div></div><div class="group" data-v-925effce><div class="item social-links" data-v-925effce><div class="VPSocialLinks social-links-list" data-v-925effce data-v-ee7a9424><!--[--><a class="VPSocialLink no-icon" href="https://github.com/originpark" aria-label="github" target="_blank" rel="noopener" data-v-ee7a9424 data-v-717b8b75><span class="vpi-social-github" /></a><a class="VPSocialLink no-icon" href="https://space.bilibili.com/160304257" aria-label="bilibili" target="_blank" rel="noopener" data-v-ee7a9424 data-v-717b8b75><span class="vpi-social-bilibili" /></a><!--]--></div></div></div><!--]--><!--]--></div></div></div><!--[--><!--]--><button type="button" class="VPNavBarHamburger hamburger" aria-label="mobile navigation" aria-expanded="false" aria-controls="VPNavScreen" data-v-822684d1 data-v-5dea55bf><span class="container" data-v-5dea55bf><span class="top" data-v-5dea55bf></span><span class="middle" data-v-5dea55bf></span><span class="bottom" data-v-5dea55bf></span></span></button></div></div></div></div><div class="divider" data-v-822684d1><div class="divider-line" data-v-822684d1></div></div></div><!----></header><div class="VPLocalNav has-sidebar empty" data-v-a9a9e638 data-v-070ab83d><div class="container" data-v-070ab83d><button class="menu" aria-expanded="false" aria-controls="VPSidebarNav" data-v-070ab83d><span class="vpi-align-left menu-icon" data-v-070ab83d></span><span class="menu-text" data-v-070ab83d>Menu</span></button><div class="VPLocalNavOutlineDropdown" style="--vp-vh:0px;" data-v-070ab83d data-v-bc9dc845><button data-v-bc9dc845>Return to top</button><!----></div></div></div><aside class="VPSidebar" data-v-a9a9e638 data-v-18756405><div class="curtain" data-v-18756405></div><nav class="nav" id="VPSidebarNav" aria-labelledby="sidebar-aria-label" tabindex="-1" data-v-18756405><span class="visually-hidden" id="sidebar-aria-label" data-v-18756405> Sidebar Navigation </span><!--[--><!--]--><!--[--><div class="no-transition group" data-v-9e426adc><section class="VPSidebarItem level-0 has-active" data-v-9e426adc data-v-196b2e5f><div class="item" role="button" tabindex="0" data-v-196b2e5f><div class="indicator" data-v-196b2e5f></div><h2 class="text" data-v-196b2e5f>个人笔记</h2><!----></div><div class="items" data-v-196b2e5f><!--[--><section class="VPSidebarItem level-1 collapsible is-link" data-v-196b2e5f data-v-196b2e5f><div class="item" tabindex="0" data-v-196b2e5f><div class="indicator" data-v-196b2e5f></div><a class="VPLink link link" href="/note/javaSE.html" data-v-196b2e5f><!--[--><h3 class="text" data-v-196b2e5f>javaSE</h3><!--]--></a><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-196b2e5f><span class="vpi-chevron-right caret-icon" data-v-196b2e5f></span></div></div><div class="items" data-v-196b2e5f><!--[--><div class="VPSidebarItem level-2 is-link" data-v-196b2e5f data-v-196b2e5f><div class="item" data-v-196b2e5f><div class="indicator" data-v-196b2e5f></div><a class="VPLink link link" href="/note/javaSE/%E9%9B%86%E5%90%88.html" data-v-196b2e5f><!--[--><p class="text" data-v-196b2e5f>集合</p><!--]--></a><!----></div><!----></div><!--]--></div></section><section class="VPSidebarItem level-1 collapsible is-link has-active" data-v-196b2e5f data-v-196b2e5f><div class="item" tabindex="0" data-v-196b2e5f><div class="indicator" data-v-196b2e5f></div><a class="VPLink link link" href="/note/java_web_basic.html" data-v-196b2e5f><!--[--><h3 class="text" data-v-196b2e5f>java web</h3><!--]--></a><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-196b2e5f><span class="vpi-chevron-right caret-icon" data-v-196b2e5f></span></div></div><div class="items" data-v-196b2e5f><!--[--><div class="VPSidebarItem level-2 is-link" data-v-196b2e5f data-v-196b2e5f><div class="item" data-v-196b2e5f><div class="indicator" data-v-196b2e5f></div><a class="VPLink link link" href="/note/java_web_basic/Servlet.html" data-v-196b2e5f><!--[--><p class="text" data-v-196b2e5f>Servlet</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-196b2e5f data-v-196b2e5f><div class="item" data-v-196b2e5f><div class="indicator" data-v-196b2e5f></div><a class="VPLink link link" href="/note/java_web_basic/https.html" data-v-196b2e5f><!--[--><p class="text" data-v-196b2e5f>https</p><!--]--></a><!----></div><!----></div><!--]--></div></section><!--]--></div></section></div><!--]--><!--[--><!--]--></nav></aside><div class="VPContent has-sidebar" id="VPContent" data-v-a9a9e638 data-v-91765379><div class="VPDoc has-sidebar has-aside" data-v-91765379 data-v-83890dd9><!--[--><!--]--><div class="container" data-v-83890dd9><div class="aside" data-v-83890dd9><div class="aside-curtain" data-v-83890dd9></div><div class="aside-container" data-v-83890dd9><div class="aside-content" data-v-83890dd9><div class="VPDocAside" data-v-83890dd9 data-v-6d7b3c46><!--[--><!--]--><!--[--><!--]--><nav aria-labelledby="doc-outline-aria-label" class="VPDocAsideOutline" data-v-6d7b3c46 data-v-b38bf2ff><div class="content" data-v-b38bf2ff><div class="outline-marker" data-v-b38bf2ff></div><div aria-level="2" class="outline-title" id="doc-outline-aria-label" role="heading" data-v-b38bf2ff>页面导航</div><ul class="VPDocOutlineItem root" data-v-b38bf2ff data-v-3f927ebe><!--[--><!--]--></ul></div></nav><!--[--><!--]--><div class="spacer" data-v-6d7b3c46></div><!--[--><!--]--><!----><!--[--><!--]--><!--[--><!--]--></div></div></div></div><div class="content" data-v-83890dd9><div class="content-container" data-v-83890dd9><!--[--><!--]--><main class="main" data-v-83890dd9><div style="position:relative;" class="vp-doc _note_java_web_basic_https" data-v-83890dd9><div><h1 id="https" tabindex="-1">https <a class="header-anchor" href="#https" aria-label="Permalink to &quot;https&quot;">​</a></h1><blockquote><p>作者: 小王</p><p>状态: 初版</p><p>✌️👀✌️</p></blockquote><p>尝试循序渐进解释一下https安全通信的原理</p><p>首先需要知道请求报文和相应报文在网络中进行明文转发是很危险的,很容易被窃取数据</p><p>因此, 我们的需要对明文进行加密</p><h2 id="对称加密" tabindex="-1">对称加密 <a class="header-anchor" href="#对称加密" aria-label="Permalink to &quot;对称加密&quot;">​</a></h2><p>客户端和服务器持有一个共同的密钥(会话密钥),该密钥可以对明文进行加密和解密</p><p><strong>通信流程</strong>:</p><p>请求: 客户端: 明文-&gt;密钥-&gt;密文;服务器: 密文-&gt;密钥-&gt;明文</p><p>响应: 服务器: 明文-&gt;密钥-&gt;密文;客户端: 密文-&gt;密钥-&gt;明文</p><p><strong>问题</strong>: 客户端和服务器需要安全地共享密钥,如果客户端生成密钥并直接将密钥发送给服务器,那么这个密钥极容易在网络传输中被窃取</p><h2 id="非对称加密" tabindex="-1">非对称加密 <a class="header-anchor" href="#非对称加密" aria-label="Permalink to &quot;非对称加密&quot;">​</a></h2><p>服务端持有一个公钥和一个私钥,公钥只能加密,私钥可以加密,也可以解密</p><p><strong>通信流程</strong>:</p><ul><li>客户端与服务器建立连接时,服务器先将公钥发送给客户端</li><li>客户端临时生成一个随机密钥,将该密钥使用公钥加密发送给服务器</li><li>服务器使用私钥解密,得到密钥</li><li>客户端和服务器使用该密钥(会话密钥)进行通信</li></ul><p>因为密钥在客户端临时生成, 通过公钥加密,而只有私钥才能解密,保证了会话密钥在网络传输中不会被窃取</p><p><strong>问题</strong>:</p><p>在第一次客户端获取公钥的时候,攻击者服务器可以截取该公钥,然后分别与客户端和服务器建立连接,提供给客户端一个虚假公钥,客户端用该虚假公钥加密了密钥,攻击者服务器可以用其自己的私钥解密,从而窃取了密钥</p><p>这里的问题出在: 客户端无法确认公钥来源的可靠性</p><h2 id="数字签名" tabindex="-1">数字签名 <a class="header-anchor" href="#数字签名" aria-label="Permalink to &quot;数字签名&quot;">​</a></h2><p>在解决问题之前先了解一下数字签名</p><p>数字签名用于验证数字的真实性和完整性,并不用于加密数据</p><p><strong>工作流程</strong>:</p><ul><li>原始消息 通过哈希函数生成消息摘要</li><li>签名者使用私钥对消息摘要加密得到数字签名</li><li>签名者将数字签名和原消息一起发给接收者</li><li>接收者对接收到的原始消息使用哈希函数加密得到消息摘要1,并使用签名者提供的公钥解密数字签名得到消息摘要2</li><li>接收者对比解密得到的消息摘要和自己重新计算出的消息摘要。如果两者相同则说明:消息在传输过程中没有被篡改, 数字签名确实是由签名者生成的</li></ul><h2 id="ca证书" tabindex="-1">CA证书 <a class="header-anchor" href="#ca证书" aria-label="Permalink to &quot;CA证书&quot;">​</a></h2><p>CA即证书颁发机构</p><p>服务器可以将自己的信息,以及公钥发给CA机构,CA机构对服务器进行认证后,生成该服务器的证书返还给服务器,证书中包括:</p><ul><li>服务器的公钥。</li><li>服务器的域名信息。</li><li>证书的有效期。</li><li>证书的数字签名</li></ul><p>在此之后,每一次请求流程如下:</p><ul><li>服务器需要先将证书发送给客户端</li><li>客户端操作系统或者浏览器中保存了根证书库, 从根证书库中找到相应的CA根证书，然后验证服务器证书的数字签名,认证成功后,说明该证书有效,证书内的服务器公钥也有效</li><li>接下来就可以进行上面说的非对称加密通信了</li></ul><h2 id="https总结" tabindex="-1">HTTPS总结 <a class="header-anchor" href="#https总结" aria-label="Permalink to &quot;HTTPS总结&quot;">​</a></h2><ol><li><strong>身份验证</strong>：通过CA颁发的数字证书，客户端能够确认服务器的身份，防止中间人攻击。</li><li><strong>加密通信</strong>：使用非对称加密安全地交换会话密钥，确保会话密钥不会被窃取。</li><li><strong>数据完整性</strong>：数字签名保证数据在传输中未被篡改。</li></ol></div></div></main><footer class="VPDocFooter" data-v-83890dd9 data-v-4f9813fa><!--[--><!--]--><!----><nav class="prev-next" aria-labelledby="doc-footer-aria-label" data-v-4f9813fa><span class="visually-hidden" id="doc-footer-aria-label" data-v-4f9813fa>Pager</span><div class="pager" data-v-4f9813fa><a class="VPLink link pager-link prev" href="/note/java_web_basic/Servlet.html" data-v-4f9813fa><!--[--><span class="desc" data-v-4f9813fa>Previous page</span><span class="title" data-v-4f9813fa>Servlet</span><!--]--></a></div><div class="pager" data-v-4f9813fa><!----></div></nav></footer><!--[--><!--]--></div></div></div><!--[--><!--]--></div></div><!----><!--[--><!--]--></div></div>
    <script>window.__VP_HASH_MAP__=JSON.parse("{\"api-examples.md\":\"OKhBjZJk\",\"index.md\":\"C6YwmsfQ\",\"markdown-examples.md\":\"CfR_erqO\",\"note_java_web_basic_https.md\":\"IEw6ifMO\",\"note_java_web_basic_index.md\":\"Dua_Y8qv\",\"note_java_web_basic_servlet.md\":\"BF3gBaVO\",\"note_javase_index.md\":\"B2K-ZhS6\",\"note_javase_集合.md\":\"wL8WAwIr\"}");window.__VP_SITE_DATA__=JSON.parse("{\"lang\":\"zh-CN\",\"dir\":\"ltr\",\"title\":\"OriginPark\",\"titleTemplate\":\"OriginPark\",\"description\":\"A VitePress Site\",\"base\":\"/\",\"head\":[],\"router\":{\"prefetchLinks\":true},\"appearance\":true,\"themeConfig\":{\"logo\":\"/images/logo.png\",\"search\":{\"provider\":\"local\"},\"lastUpdated\":{\"text\":\"上次更新于\",\"formatOptions\":{\"dateStyle\":\"full\",\"timeStyle\":\"medium\"}},\"outline\":{\"label\":\"页面导航\"},\"nav\":[{\"text\":\"个人笔记\",\"items\":[{\"text\":\"javaSE\",\"link\":\"/note/javaSE\"},{\"text\":\"java web\",\"link\":\"/note/java_web_basic\"}]},{\"text\":\"Examples\",\"link\":\"/markdown-examples\"}],\"sidebar\":{\"/note/\":[{\"text\":\"个人笔记\",\"items\":[{\"text\":\"javaSE\",\"link\":\"/note/javaSE\",\"collapsed\":false,\"items\":[{\"text\":\"集合\",\"link\":\"/note/javaSE/集合\"}]},{\"text\":\"java web\",\"link\":\"/note/java_web_basic\",\"collapsed\":false,\"items\":[{\"text\":\"Servlet\",\"link\":\"/note/java_web_basic/Servlet\"},{\"text\":\"https\",\"link\":\"/note/java_web_basic/https\"}]}]}]},\"socialLinks\":[{\"icon\":\"github\",\"link\":\"https://github.com/originpark\"},{\"icon\":\"bilibili\",\"link\":\"https://space.bilibili.com/160304257\"}]},\"locales\":{},\"scrollOffset\":134,\"cleanUrls\":false}");</script>
    
  </body>
</html>